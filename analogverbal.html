<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Psikotes Quiz Interactive</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Poppins Font -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            font-family: 'Poppins', sans-serif;
        }

        body {
            background-color: #f8f9fa;
        }

        .quiz-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .header {
            background-color: #fff;
            box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
            padding: 1rem 0;
        }

        .timer {
            font-size: 1.2rem;
            font-weight: 600;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            background-color: #0d6efd;
            color: white;
        }

        .timer.warning {
            background-color: #ffc107;
            color: #000;
        }

        .timer.danger {
            background-color: #dc3545;
            color: white;
            animation: pulse 1s infinite;
        }

        .question-card {
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            padding: 2rem;
            margin: 2rem 0;
        }

        .question-text {
            font-size: 1.25rem;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 1.5rem;
        }

        .option-btn {
            width: 100%;
            padding: 1rem;
            margin: 0.5rem 0;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            background-color: white;
            transition: all 0.3s ease;
            text-align: left;
            font-size: 1rem;
        }

        .option-btn:hover {
            border-color: #0d6efd;
            background-color: #f8f9ff;
        }

        .option-btn.selected {
            background-color: #0d6efd;
            color: white;
            border-color: #0d6efd;
        }

        /* Question numbers section styling */
        .question-numbers-section {
            background: white;
            padding: 1rem;
            border-radius: 10px;
            margin-top: 1rem;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .question-numbers-toggle {
            width: 100%;
            padding: 0.5rem;
            background: #f8f9fa;
            border: none;
            border-radius: 5px;
            color: #0d6efd;
            font-weight: 500;
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }

        .question-numbers {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            max-height: 200px;
            overflow-y: auto;
            padding: 0.5rem;
            transition: all 0.3s ease;
        }

        .question-number-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: none;
            background-color: #e9ecef;
            color: #495057;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .question-number-btn.current {
            background-color: #0d6efd;
            color: white;
        }

        .question-number-btn.answered {
            background-color: #198754;
            color: white;
        }

        .progress {
            height: 8px;
            border-radius: 4px;
            margin: 1rem 0;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        .results {
            text-align: center;
            padding: 3rem;
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .score-display {
            font-size: 2.5rem;
            font-weight: bold;
            color: #0d6efd;
            margin: 1.5rem 0;
        }

        /* Custom scrollbar for question numbers */
        .question-numbers::-webkit-scrollbar {
            width: 6px;
        }

        .question-numbers::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 3px;
        }

        .question-numbers::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 3px;
        }

        .question-numbers::-webkit-scrollbar-thumb:hover {
            background: #555;
        }

        /* Collapse animation */
        .collapse-transition {
            transition: height 0.3s ease;
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="container">
            <div class="d-flex justify-content-between align-items-center">
                <h1 class="h3 mb-0">Psikotes Quiz</h1>
                <div class="timer" id="timer">50:00</div>
            </div>
            <div class="progress">
                <div class="progress-bar" id="progress" role="progressbar"></div>
            </div>
            <div class="question-numbers-section">
                <button class="question-numbers-toggle" type="button" data-bs-toggle="collapse" data-bs-target="#questionNumbersCollapse" aria-expanded="false" aria-controls="questionNumbersCollapse">
                    Question Navigation
                    <i class="bi bi-chevron-down"></i>
                </button>
                <div class="collapse" id="questionNumbersCollapse">
                    <div class="question-numbers" id="questionNumbers"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="container py-4">
        <div id="quizContainer" class="quiz-container">
            <div class="question-card">
                <div id="questionText" class="question-text"></div>
                <div id="options" class="options-container"></div>
            </div>
            <div class="d-flex justify-content-between gap-3">
                <button id="prevBtn" class="btn btn-secondary px-4">Previous</button>
                <button id="nextBtn" class="btn btn-primary px-4">Next</button>
            </div>
        </div>

        <div id="results" class="results" style="display: none;">
            <h2 class="h3">Quiz Completed!</h2>
            <div class="score-display" id="scoreDisplay"></div>
            <button onclick="restartQuiz()" class="btn btn-primary btn-lg">Restart Quiz</button>
        </div>
    </div>

    <script>
       const soalPsikotes = [
            {
                id: 1,
                soal: "SEMINAR : SARJANA:::",
                pilihan: [
                    "Akademi: taruna",
                    "Rumah sakit: pasien",
                    "Ruang pengadilan : saksi",
                    "Konservator: seniman",
                    "Perpustakaan: peneliti"
                ],
                jawaban: "e"
            },
            {
                id: 2,
                soal: "FIKTIF: FAKTA:::",
                pilihan: [
                    "Dagelan: sandiwara",
                    "Dongeng: peristiwa",
                    "Dugaan: rekaan",
                    "Data: estimasi",
                    "Rencana: projeksi"
                ],
                jawaban: "b"
              },
    {
      id: 3,
      soal: "MATA: TELINGA:::",
      pilihan: [
        "a. Jari: tangan",
        "b. Lidah: hidung",
        "c. Kaki: paha",
        "d. Lutut: siku",
        "e. Perut: dada",
      ],
      jawaban: "b",
    },
    {
      id: 4,
      soal: "UANG : PUNDI-PUNDI:::",
      pilihan: [
        "a. Hubungan : jambangan",
        "b. Gelas: nampan",
        "c. Air: tempayan",
        "d. Buku: percetakan",
        "e. Rokok: asbak",
      ],
      jawaban: "c",
    },
    {
      id: 5,
      soal: "POHON : BUAH:::",
      pilihan: [
        "a. Domba: daging",
        "b. Sapi: susu",
        "c. Telur: ayam",
        "d. Jentik: nyamuk",
        "e. Setam: sapit",
      ],
      jawaban: "b",
    },
    {
      id: 6,
      soal: "SENAPAN : BERBURU:::",
      pilihan: [
        "a. Kapal: berlabuh",
        "b. Kereta: langsir",
        "c. Pancing: ikan",
        "d. Perangkap: menangkap",
        "e. Parang: mengasah",
      ],
      jawaban: "d",
    },
    {
      id: 7,
      soal: "BATA: TANAH LIAT:::",
      pilihan: [
        "a. Batu: pasir",
        "b. Tembikar: keramik",
        "c. Bunga: buah",
        "d. Beton: semen",
        "e. Kertas: buku",
      ],
      jawaban: "d",
    },
    {
      id: 8,
      soal: "PANAS: API:::",
      pilihan: [
        "a. Hujan: awan",
        "b. Abu: arang",
        "c. Terang: matahari",
        "d. Hangat: listrik",
        "e. Dingin: beku",
      ],
      jawaban: "c",
    },
    {
      id: 9,
      soal: "KULIT: SISIK:::",
      pilihan: [
        "a. Tegel: lantai",
        "b. Rumah: kamar",
        "c. Keramik: mozaik",
        "d. Dinding: cat",
        "e. Atap: genteng",
      ],
      jawaban: "e",
    },
    {
      id: 10,
      soal: "METEOROLOGI: CUACA:::",
      pilihan: [
        "a. Astronomi: fisika",
        "b. Gerontology: keturunan",
        "c. Pedagogik: sekolah",
        "d. Patologi: penyakit",
        "e. Antropologi: fosil",
      ],
      jawaban: "d",
    },
    {
      id: 11,
      soal: "LAPAR : NASI:::",
      pilihan: [
        "a. Haus: air",
        "b. Mual: obat",
        "c. Mengantuk: melamun",
        "d. Bosan: tidur",
        "e. Membaca: gambar",
      ],
      jawaban: "a",
    },
    {
      id: 12,
      soal: "KEPALA: HELM:::",
      pilihan: [
        "a. Sabut: kelapa",
        "b. Rumah: atap",
        "c. Jari: cincin",
        "d. Album: foto",
        "e. Kaki: kaus",
      ],
      jawaban: "b",
    },
    {
      id: 13,
      soal: "TUNTUTAN : SANTUNAN:::",
      pilihan: [
        "a. Undian: hadiah",
        "b. Permintaan: pemberian",
        "c. Persediaan: penawaran",
        "d. Rusak: ganti rugi",
        "e. Tabungan: pembelanjaan",
      ],
      jawaban: "b",
    },
    {
      id: 14,
      soal: "RAMBUT: GUNDUL:::",
      pilihan: [
        "a. Bulu: cabut",
        "b. Mobil: mogok",
        "c. Botak: kepala",
        "d. Pakaian: bugil",
        "e. Lantai: licin",
      ],
      jawaban: "d",
    },
    {
      id: 15,
      soal: "DIAMETER : LINGKARAN:::",
      pilihan: [
        "a. Diagonal: segi empat",
        "b. Luas: panjang",
        "c. Tinggi: segi tiga",
        "d. Sudut: tegak lurus",
        "e. Radius: busur",
      ],
      jawaban: "a",
    },
    {
      id: 16,
      soal: "ES: AIR:::",
      pilihan: [
        "a. Mendidih",
        "b. Membeku",
        "c. Uap",
        "d. Cair",
        "e. Kabut",
      ],
      jawaban: "c",
    },
    {
      id: 17,
      soal: "SARUNG TANGAN : PETINJU:::",
      pilihan: [
        "a. Apotek: pasien",
        "b. Bakteriolog: mikroskop",
        "c. Optamolog: kacamata",
        "d. Dokter: jarum suntik",
        "e. Analis: data",
      ],
      jawaban: "b",
    },
    {
      id: 18,
      soal: "JAM : WAKTU:::",
      pilihan: [
        "a. Kalender: tanggal",
        "b. Alarm: suara",
        "c. Buku: halaman",
        "d. Kompas: arah",
        "e. Lampu: terang",
      ],
      jawaban: "a",
    },
    {
      id: 19,
      soal: "LUKA : OBAT:::",
      pilihan: [
        "a. Dingin: panas",
        "b. Sakit: sembuh",
        "c. Api: air",
        "d. Virus: antibiotik",
        "e. Batuk: sirup",
      ],
      jawaban: "e",
    },
    {
      id: 20,
      soal: "PENULIS: KERTAS:::",
      pilihan: [
        "a. Pelukis: kanvas",
        "b. Tukang kayu: pahat",
        "c. Guru: kelas",
        "d. Dokter: stetoskop",
        "e. Aktor: layar",
      ],
      jawaban: "a",
    },
        {
          id: 21,
          soal: "BAHASA: KATA:::",
          pilihan: [
            "a. Kalimat: paragraf",
            "b. Huruf: abjad",
            "c. Paragraf: cerita",
            "d. Huruf: suara",
            "e. Kalimat: cerita",
          ],
          jawaban: "b",
        },
        {
          id: 22,
          soal: "DOKTER: PELAYANAN:::",
          pilihan: [
            "a. Penyanyi: konser",
            "b. Guru: kelas",
            "c. Sapu: lantai",
            "d. Sopir: kendaraan",
            "e. Petani: ladang",
          ],
          jawaban: "b",
        },
        {
          id: 23,
          soal: "KERTAS: PULP:::",
          pilihan: [
            "a. Kayu: daun",
            "b. Logam: pabrik",
            "c. Batu: galian",
            "d. Daun: pohon",
            "e. Padi: beras",
          ],
          jawaban: "e",
        },
        {
          id: 24,
          soal: "BULAN : TAHUN:::",
          pilihan: [
            "a. Hari: minggu",
            "b. Bulan: bulan",
            "c. Minggu: tahun",
            "d. Detik: menit",
            "e. Tahun: abad",
          ],
          jawaban: "e",
        },
        {
          id: 25,
          soal: "BERITA : PENULIS:::",
          pilihan: [
            "a. Cerita: penyair",
            "b. Gambar: seniman",
            "c. Film: sutradara",
            "d. Musik: penyanyi",
            "e. Novel: penulis",
          ],
          jawaban: "e",
        },
        {
          id: 26,
          soal: "PABRIK: PRODUKSI:::",
          pilihan: [
            "a. Dokter: perawatan",
            "b. Rumah: perabot",
            "c. Toko: penjualan",
            "d. Universitas: kuliah",
            "e. Kebun: panen",
          ],
          jawaban: "c",
        },
        {
          id: 27,
          soal: "KUDA: MENCAKUP:::",
          pilihan: [
            "a. Harimau: berburu",
            "b. Lumba-lumba: berenang",
            "c. Kucing: tidur",
            "d. Ikan: renang",
            "e. Singa: makan",
          ],
          jawaban: "b",
        },
        {
          id: 28,
          soal: "BUNGA: TUMBUH:::",
          pilihan: [
            "a. Pohon: cabang",
            "b. Air: berenang",
            "c. Tanah: petani",
            "d. Petir: kilat",
            "e. Rumput: tanah",
          ],
          jawaban: "a",
        },
        {
          id: 29,
          soal: "PEMBELAJARAN : ILMU:::",
          pilihan: [
            "a. Peternakan: hasil",
            "b. Rumah: api",
            "c. Pendidikan: buku",
            "d. Pelatihan: keterampilan",
            "e. Toko: penjualan",
          ],
          jawaban: "c",
        },
        {
          id: 30,
          soal: "KUNCI: PINTU:::",
          pilihan: [
            "a. Pakaian: badan",
            "b. Kacamata: wajah",
            "c. Lampu: listrik",
            "d. Sepatu: kaki",
            "e. Kunci: gembok",
          ],
          jawaban: "e",
        },
        {
          id: 31,
          soal: "KERTAS : PENULIS :::",
          pilihan: [
            "a. Gambar: pelukis",
            "b. Kunci: lemari",
            "c. Kantor: administrasi",
            "d. Lembar: lemari",
            "e. Kayu: tukang kayu",
          ],
          jawaban: "a",
        },
        {
          id: 32,
          soal: "DEMIAN: SURYA:::",
          pilihan: [
            "a. Zamrud: gemilang",
            "b. Bumi: bulan",
            "c. Laut: ombak",
            "d. Matahari: bulan",
            "e. Sungai: air",
          ],
          jawaban: "b",
        },
        {
          id: 33,
          soal: "PENERBANGAN : BANDARA:::",
          pilihan: [
            "a. Kereta: jalur",
            "b. Mobil: jalan",
            "c. Laut: pelabuhan",
            "d. Udara: pesawat",
            "e. Sepeda: jalan",
          ],
          jawaban: "c",
        },
        {
          id: 34,
          soal: "SEPEDA: KENDARAAN:::",
          pilihan: [
            "a. Meja: furnitur",
            "b. Televisi: teknologi",
            "c. Buku: literatur",
            "d. Manusia: hewan",
            "e. Kucing: peliharaan",
          ],
          jawaban: "a",
        },
        {
          id: 35,
          soal: "BERITA : PEMBACA :::",
          pilihan: [
            "a. Gambar: pemilik",
            "b. Buku: pembaca",
            "c. Penulis: pembaca",
            "d. Berita: laporan",
            "e. Pekerjaan: manajer",
          ],
          jawaban: "b",
        },
        {
          id: 36,
          soal: "FLU: PANAS:::",
          pilihan: [
            "a. Mata: buta",
            "b. Demam: tinggi",
            "c. Batuk: sakit",
            "d. Infeksi: ringan",
            "e. Hidung: bau",
          ],
          jawaban: "b",
        },
        {
          id: 37,
          soal: "BUNGA : KEBUN:::",
          pilihan: [
            "a. Pohon : hutan",
            "b. Buku : perpustakaan",
            "c. Roti : toko",
            "d. Kucing : rumah",
            "e. Buku : meja",
          ],
          jawaban: "a",
        },
        {
          id: 38,
          soal: "TANAH: BUMI:::",
          pilihan: [
            "a. Air: laut",
            "b. Hutan: pohon",
            "c. Laut: tanah",
            "d. Udara: atmosfer",
            "e. Laut: danau",
          ],
          jawaban: "d",
        },
        {
          id: 39,
          soal: "SEPEDA MOTOR: SOKEBEL :::",
          pilihan: [
            "a. Pengendara: pengemudi",
            "b. Kunci: gembok",
            "c. Mesin: bahan bakar",
            "d. Jalan: asfalt",
            "e. Roda: ban",
          ],
          jawaban: "e",
        },
        {
          id: 40,
          soal: "BURUNG: TERBANG:::",
          pilihan: [
            "a. Kucing: tidur",
            "b. Harimau: berburu",
            "c. Ikan: berenang",
            "d. Kuda: berlari",
            "e. Ayam: berkotek",
          ],
          jawaban: "c",
        },
        {
          id: 41,
          soal: "KEMBALI: PERGI:::",
          pilihan: [
            "a. Tidur: bangun",
            "b. Makan: minum",
            "c. Gembira: sedih",
            "d. Hujan: cerah",
            "e. Tertawa: menangis",
          ],
          jawaban: "a",
        },
        {
          id: 42,
          soal: "SEMPURNA: KURANG:::",
          pilihan: [
            "a. Buruk: bagus",
            "b. Hijau: coklat",
            "c. Kecil: besar",
            "d. Sempurna: tidak sempurna",
            "e. Panas: dingin",
          ],
          jawaban: "d",
        },
        {
          id: 43,
          soal: "LUMPUH : BERDIRI:::",
          pilihan: [
            "a. Menang: kalah",
            "b. Jatuh: bangkit",
            "c. Lari: berjalan",
            "d. Tidur: bangun",
            "e. Menangis: tertawa",
          ],
          jawaban: "b",
        },
        {
          id: 44,
          soal: "UNGU : VIOLETA :::",
          pilihan: [
            "a. Merah : merah muda",
            "b. Biru : hijau",
            "c. Kuning : biru",
            "d. Putih : hitam",
            "e. Kuning : hitam",
          ],
          jawaban: "a",
        },
        {
          id: 45,
          soal: "KECEPATAN : GULIR:::",
          pilihan: [
            "a. Laju: berputar",
            "b. Cerdas: berhenti",
            "c. Gerak: lambat",
            "d. Giat: malas",
            "e. Penuh: kosong",
          ],
          jawaban: "a",
        },
        {
          id: 46,
          soal: "GELAP : CAHAYA:::",
          pilihan: [
            "a. Hangat: api",
            "b. Tertutup: terbuka",
            "c. Terang: redup",
            "d. Dingin: hujan",
            "e. Suara: diam",
          ],
          jawaban: "c",
        },
        {
          id: 47,
          soal: "TINGGI : RENDAH :::",
          pilihan: [
            "a. Muda : Tua",
            "b. Gembira: Cemas",
            "c. Pintar: malas",
            "d. Sempurna: rusak",
            "e. Lapang : sesak",
          ],
          jawaban: "a",
        },
        {
          id: 48,
          soal: "KEBAHAGIAAN : KESEDIHAN :::",
          pilihan: [
            "a. Gembira : susah",
            "b. Hujan : panas",
            "c. Dingin : sejuk",
            "d. Semangat : malas",
            "e. Tertawa : menangis",
          ],
          jawaban: "e",
        },
        {
          id: 49,
          soal: "CINTA : KEHIDUPAN :::",
          pilihan: [
            "a. Malu: bahagia",
            "b. Cinta: kebencian",
            "c. Tenang: gelisah",
            "d. Hidup: mati",
            "e. Duka: suka",
          ],
          jawaban: "b",
        },
        {
          id: 50,
          soal: "BERGERAK : TERMOTIVASI :::",
          pilihan: [
            "a. Berbicara: tercenung",
            "b. Berhenti: bekerja",
            "c. Bebas: terjebak",
            "d. Gembira: senang",
            "e. Tertidur: bangkit",
          ],
          jawaban: "a",
        }
        ];

        let currentQuestion = 0;
        let userAnswers = new Array(soalPsikotes.length).fill(null);
        let timeLeft = 50 * 60; // 50 minutes in seconds
        let timerInterval;

        // Add toggle icon rotation
        document.querySelector('.question-numbers-toggle').addEventListener('click', function() {
            const icon = this.querySelector('i');
            icon.style.transform = icon.style.transform === 'rotate(180deg)' ? '' : 'rotate(180deg)';
        });

        function initQuiz() {
            displayQuestion();
            updateQuestionNumbers();
            startTimer();
            updateProgress();
        }

        function displayQuestion() {
            const question = soalPsikotes[currentQuestion];
            document.getElementById('questionText').textContent = `${currentQuestion + 1}. ${question.soal}`;
            
            const optionsContainer = document.getElementById('options');
            optionsContainer.innerHTML = '';
            
            question.pilihan.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'option-btn';
                if (userAnswers[currentQuestion] === String.fromCharCode(97 + index)) {
                    button.classList.add('selected');
                }
                button.textContent = option;
                button.onclick = () => {
                    selectOption(String.fromCharCode(97 + index));
                    // Automatically move to next question after selection
                    if (currentQuestion < soalPsikotes.length - 1) {
                        setTimeout(() => {
                            nextQuestion();
                        }, 300); // Small delay for better UX
                    }
                };
                optionsContainer.appendChild(button);
            });

            updateNavButtons();
        }

        function selectOption(answer) {
            userAnswers[currentQuestion] = answer;
            document.querySelectorAll('.option-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            document.querySelectorAll('.option-btn')[answer.charCodeAt(0) - 97].classList.add('selected');
            updateQuestionNumbers();
            updateProgress();
        }

        function nextQuestion() {
            if (currentQuestion < soalPsikotes.length - 1) {
                currentQuestion++;
                displayQuestion();
            } else {
                finishQuiz();
            }
        }

        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                displayQuestion();
            }
        }

        function updateNavButtons() {
            document.getElementById('prevBtn').disabled = currentQuestion === 0;
            const nextBtn = document.getElementById('nextBtn');
            nextBtn.textContent = currentQuestion === soalPsikotes.length - 1 ? 'Finish' : 'Next';
        }

        function updateQuestionNumbers() {
            const container = document.getElementById('questionNumbers');
            container.innerHTML = '';
            
            soalPsikotes.forEach((_, index) => {
                const button = document.createElement('button');
                button.className = 'question-number-btn';
                if (index === currentQuestion) {
                    button.classList.add('current');
                }
                if (userAnswers[index] !== null) {
                    button.classList.add('answered');
                }
                button.textContent = index + 1;
                button.onclick = () => {
                    currentQuestion = index;
                    displayQuestion();
                    // Optionally collapse the numbers panel on mobile
                    if (window.innerWidth < 768) {
                        bootstrap.Collapse.getOrCreateInstance(document.getElementById('questionNumbersCollapse')).hide();
                    }
                };
                container.appendChild(button);
            });
        }

        function startTimer() {
            updateTimerDisplay();
            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                if (timeLeft <= 0) {
                    finishQuiz();
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            const timerElement = document.getElementById('timer');
            timerElement.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            timerElement.classList.remove('warning', 'danger');
            if (timeLeft <= 300) {
                timerElement.classList.add('danger');
            } else if (timeLeft <= 600) {
                timerElement.classList.add('warning');
            }
        }

        function updateProgress() {
            const answered = userAnswers.filter(answer => answer !== null).length;
            const progress = (answered / soalPsikotes.length) * 100;
            document.getElementById('progress').style.width = `${progress}%`;
        }

        function finishQuiz() {
            clearInterval(timerInterval);
            const score = calculateScore();
            document.getElementById('quizContainer').style.display = 'none';
            document.getElementById('results').style.display = 'block';
            document.getElementById('scoreDisplay').textContent = 
                `Score: ${score.correct}/${soalPsikotes.length} (${Math.round(score.percentage)}%)`;
        }

        function calculateScore() {
            const correct = userAnswers.reduce((acc, answer, index) => {
                return acc + (answer === soalPsikotes[index].jawaban ? 1 : 0);
            }, 0);
            return {
                correct,
                percentage: (correct / soalPsikotes.length) * 100
            };
        }

        function restartQuiz() {
            currentQuestion = 0;
            userAnswers = new Array(soalPsikotes.length).fill(null);
            timeLeft = 50 * 60;
            document.getElementById('quizContainer').style.display = 'block';
            document.getElementById('results').style.display = 'none';
            document.getElementById('timer').classList.remove('warning', 'danger');
            initQuiz();
        }

        // Initialize when page loads
        window.onload = initQuiz;

        // Add event listeners for navigation buttons
        document.getElementById('nextBtn').addEventListener('click', nextQuestion);
        document.getElementById('prevBtn').addEventListener('click', previousQuestion);
    </script>

    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>